<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
  <title>Rose Garden</title>
  <link rel="stylesheet" href="https://caked-production.up.railway.app/css/hope.css">
  <style>
    /* Performance improvements */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.9);
      backdrop-filter: blur(5px);
      transition: opacity 0.3s ease;
    }
    
    .modal.modal-open {
      opacity: 1;
    }
    
    .modal-content {
      background-color: #1a1a1a;
      margin: 5% auto;
      padding: 20px;
      border: 2px solid #ff6b9d;
      border-radius: 15px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
      animation: modalSlideIn 0.3s ease;
    }
    
    @keyframes modalSlideIn {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    .photo {
      cursor: pointer;
      transition: transform 0.2s ease;
      border-radius: 10px;
      margin: 5px;
      max-width: 200px;
      height: auto;
    }
    
    .photo:hover {
      transform: scale(1.05);
    }
    
    #photoModal {
      z-index: 2000;
    }
    
    #photoModal .modal-content {
      background: rgba(0,0,0,0.95);
      border: none;
      padding: 0;
      max-width: 90%;
      max-height: 90%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    #enlargedPhoto {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 15px;
      object-fit: contain;
    }
    
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      position: absolute;
      top: 10px;
      right: 15px;
      z-index: 1001;
    }
    
    .close:hover,
    .close:focus {
      color: #fff;
      text-decoration: none;
    }
    
    /* Loading performance improvements */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    
    .loading-screen.fade-out {
      opacity: 0;
      pointer-events: none;
    }
    
    /* Stars optimization */
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 2s ease-in-out infinite alternate;
      will-change: opacity;
    }
    
    @keyframes twinkle {
      from { opacity: 0.3; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>

  <!-- Loading Screen -->
  <div class="loading-screen" id="loadingScreen">
    <div class="loading-rose">ğŸŒ¹</div>
    <div class="loading-text">
      My letter to...the baddest I know ğŸ’œ<br>
      <small>Usiblash sana</small>
    </div>
  </div>
  
  <!-- Hidden Title Popup -->
  <div class="title-popup" id="titlePopup">
    <p>Remember I used to call you this and you would blash about it.ğŸ’œğŸ˜‚ğŸ˜Œgood times at times</p>
    <p>Into yo like I'm a driller.</p>
  </div>
  
  <!-- Background Music (auto-preload restored for auto-play) -->
  <audio id="globalAudio" class="background-music" preload="auto">
    <source src="https://caked-production.up.railway.app/assets/audio/PARTYNEXTDOOR - Dreamin.mp3" type="audio/mpeg">
    <source src="https://caked-production.up.railway.app/assets/audio/PARTYNEXTDOOR - DEEPER.mp3" type="audio/mpeg">
    <source src="https://caked-production.up.railway.app/assets/audio/PARTYNEXTDOOR - TRAUMA .mp3" type="audio/mpeg">
    <source src="https://caked-production.up.railway.app/assets/audio/KEEP IT-Juice WRLD.mp3" type="audio/mpeg">
    <source src="https://caked-production.up.railway.app/assets/audio/Juice WRLD - GRACE.mp3" type="audio/mpeg">
    <source src="https://caked-production.up.railway.app/assets/audio/PARTYNEXTDOOR - Some Of Your Love.mp3" type="audio/mpeg">
    <source src="https://caked-production.up.railway.app/assets/audio/PARTYNEXTDOOR - You ve Been Missed.mp3" type="audio/mpeg">
    <source src="https://caked-production.up.railway.app/assets/audio/PARTYNEXTDOOR & Rihanna - BELIEVE IT.mp3" type="audio/mpeg">
  </audio>
  
  <!-- Music Button -->
  <div class="music-button" id="musicButton" onclick="toggleMusicPopup()">
    <div class="music-button-icon">ğŸµ</div>
  </div>
  
  <!-- Music Popup -->
  <div class="music-popup" id="musicPopup">
    <div class="music-header">
      <span>ğŸµ Music Player</span>
      <button class="close-popup" onclick="toggleMusicPopup()">Ã—</button>
    </div>
    <div class="background-music-selector">
      <select id="globalMusicSelect" onchange="selectGlobalSong(this.value)">
        <option value="PARTYNEXTDOOR - Dreamin.mp3">Dreamin' - PARTYNEXTDOOR</option>
        <option value="PARTYNEXTDOOR - DEEPER.mp3">DEEPER - PARTYNEXTDOOR</option>
        <option value="PARTYNEXTDOOR - TRAUMA .mp3">TRAUMA - PARTYNEXTDOOR</option>
        <option value="KEEP IT-Juice WRLD.mp3">KEEP IT - Juice WRLD</option>
        <option value="Juice WRLD - GRACE.mp3">GRACE - Juice WRLD</option>
        <option value="PARTYNEXTDOOR - Some Of Your Love.mp3">Some Of Your Love - PARTYNEXTDOOR</option>
        <option value="PARTYNEXTDOOR - You ve Been Missed.mp3">You've Been Missed - PARTYNEXTDOOR</option>
        <option value="PARTYNEXTDOOR & Rihanna - BELIEVE IT.mp3">BELIEVE IT - PARTYNEXTDOOR & Rihanna</option>
      </select>
    </div>
    <div class="background-controls">
      <button class="bg-control-btn" onclick="playPreviousSong()">â®ï¸ Previous</button>
      <button class="bg-control-btn" id="globalPlayBtn" onclick="toggleGlobalMusic()">â–¶ï¸ Play</button>
      <button class="bg-control-btn" onclick="playNextSong()">â­ï¸ Next</button>
      <button class="bg-control-btn" onclick="stopGlobalMusic()">â¹ï¸ Stop</button>
    </div>
    <div class="bg-now-playing" id="globalNowPlaying">Ready: Dreamin' - PARTYNEXTDOOR</div>
  </div>
  
  <!-- Stars Background -->
  <div class="stars" id="stars"></div>
  <div class="container">
    <h1 class="title" onclick="titleClick()">âœ¨La Samâœ¨</h1>
    <div class="roses-container">
      <!-- Rose 1 -->
      <div class="rose-wrapper" onclick="openModal('modal1', event)">
        <div class="rose">
          <img class="rose-image" id="rose1Image" src="https://caked-production.up.railway.app/assets/images/rose-unsplash.jpg" alt="Rose 1">
        </div>
        <div class="rose-label">First Bloom</div>
      </div>
      <!-- Rose 2 -->
      <div class="rose-wrapper" onclick="openModal('modal2', event)">
        <div class="rose">
          <img class="rose-image" id="rose2Image" src="https://images.unsplash.com/photo-1561181286-d3fee7d55364?w=300&h=400&fit=crop" alt="Rose 2">
        </div>
        <div class="rose-label">Heart's Robbed</div>
      </div>
      <!-- Rose 3 -->
      <div class="rose-wrapper" onclick="openModal('modal3', event)">
        <div class="rose">
          <img class="rose-image" id="rose3Image" src="https://images.unsplash.com/photo-1563241527-3004b7be0ffd?w=300&h=400&fit=crop" alt="Rose 3">
        </div>
        <div class="rose-label">Forever</div>
      </div>
    </div>
  </div>
  
  <!-- MODALS -->
  <!-- Modal 1 -->
  <div id="modal1" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('modal1')">&times;</span>
      <h2>First Bloom <span class="heart">ğŸ’•</span></h2>
      <div class="message">"I think I'm a crack addict. frfr"</div>
      <button class="add-message-btn" onclick="showSavedMessage('msg1')">ğŸ’Œ Read Message</button>
      <div id="msg1" class="user-message">
        I saw you and I fellâ€”suddenly, endlessly. Hit me too like a truck. Funny you still hit me like a truck no matter what the outcome. That smile on your face makes it easy to trust you. I swear na si mstari I literally skip a beat when I see a photo of you. Anyway nione mbleina tu nikisema izi vituğŸ˜‚
        <p>I was so scared of being attached you wouldnt believe after what I'm doing. Iwish I went in with your mindsetğŸ˜</p>
        <p> But I also dontğŸ˜…  I kinda know the outcome. I told you.</p>
        <p> You havent changed much in this photos. Still got it in you even though you were like 11 hereğŸ˜‚
        </p>
        <p> Izi ndo time natoka shule boarding narudi nikiski kunamtu anasema lazima nimvalishe peteğŸ˜‚ğŸ˜‚ usijali. Ama unasema ilikua utoto mingi tu?</p>
        <p> Mi sikuona ikiwa utoto saaanaa ivo. </p>
        <p>Kuna wtu siezi sahau experiences no matter what. </p>
        <p> Anyway, kuongea na ww ilifanya nijue kuna vitu poa hujasahau. </p>
        <p>Loving you is the Only law I will never brake</p>
        <p> But usichukulie nikama na force. Ata mm sijui hii ni nn nafeel. Might be attachment or somethin I need too to process. </p>
        <p> But I also know I cant do it alone. </p>
        <p> I gotta see this face drunk again . And high in the moment.</p>
        <p> Just dont treat me like them niggaz I aint those.  </p>
      </div>
      <div class="photo-container">
        <img class="photo" src="https://caked-production.up.railway.app/assets/images/Crack.jpg" alt="Memory 1" onclick="enlargePhoto(this, event)">
        <img class="photo" src="https://caked-production.up.railway.app/assets/images/sst8.jpg" alt="Memory 2" onclick="enlargePhoto(this, event)">
      </div>
    </div>
  </div>
  
  <!-- Modal 2 -->
  <div id="modal2" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('modal2')">&times;</span>
      <h2>Heart's Robbed <span class="heart">ğŸ’–</span></h2>
      <div class="message">"And I don't want it back you can keep it Make it dirty but keep it safe for me."</div>
      <button class="add-message-btn" onclick="showSavedMessage('msg2')">ğŸ’Œ Read Message</button>
      <div id="msg2" class="user-message">
        Can I tell you somethin' Crazy I never thought you'd be my type too since we met at the beginning. Till that day you came from school and I switched school. That was not naive the way we looked at each other we craved for each other. I saw you young at first. I said fuck dat from that day. My first real experience with somebody was with you. No lie
        <p>I guess its why I'm still here. Unless I wasnt your first then I am right in everything</p>
        <p>The song TRAUMA is word for word what I'm trying to say</p>
        <p>We were gonna be on a beach high together. You fr sweared</p>
      </div>
      <div class="photo-container">
        <img class="photo" src="https://caked-production.up.railway.app/assets/images/sst5.jpg" alt="Memory 3" onclick="enlargePhoto(this, event)">
        <img class="photo" src="https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=300&h=300&fit=crop" alt="Memory 4" onclick="enlargePhoto(this, event)">
      </div>
    </div>
  </div>
  
  <!-- Modal 3 -->
  <div id="modal3" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('modal3')">&times;</span>
      <h2>Forever <span class="heart">ğŸ’</span></h2>
      <div class="message">"Come to me. I will make you believe we're forever. We dont got to be a couple for me to show you."</div>
      <button class="add-message-btn" onclick="showSavedMessage('msg3')">ğŸ’Œ Read Message</button>
      <div id="msg3" class="user-message">
        I never wanted you to feel some type of way if I did. I don't even know if this makes you comfortable. I figured you'd like some of the things I'm good at even though not talking. Forget how you know me. Let me show you some of the other me.
        <p> Lakini nilikua nimekudedi bado ukiwa semi-kienyoğŸ˜‚ğŸ˜‚ sahii bruuh!! acha tu  </p>
        <p>Suburban fyn shytğŸ’œ</p>
        <p> Even if you choose the other side, I still cant belive I fumbled and stumbled on this girlğŸ˜…ğŸ˜”things change</p>
      </div>
      <div class="photo-container">
        <img class="photo" src="https://caked-production.up.railway.app/assets/images/sst12.jpg" alt="Memory 5" onclick="enlargePhoto(this, event)">
        <img class="photo" src="https://caked-production.up.railway.app/assets/images/sst10.jpg" alt="Memory 6" onclick="enlargePhoto(this, event)">
        <img class="photo" src="https://caked-production.up.railway.app/assets/images/sst11.jpg" alt="Memory 7" onclick="enlargePhoto(this, event)">
      </div>
    </div>
  </div>
  
  <!-- Exclamation Button (Bottom Right) -->
  <div id="exclamationIcon" class="exclamation-button" onclick="toggleExclamationPopup()">
    <span class="exclamation-icon">!</span>
  </div>
  
  <!-- Exclamation Popup -->
  <div id="exclamationPopup" class="exclamation-popup">
    <div class="exclamation-header">
      <span>ğŸ’¡ Brief Explanation of the letter</span>
      <button class="exclamation-close" onclick="toggleExclamationPopup()">Ã—</button>
    </div>
    <div class="exclamation-content">
      <p>Start by clicking the name</p>
      <p>
      The music you here when you open this page is a song you told me you love. 
      </p>
      <p>The rest of the songs I have hand picked to explain myself. Some you are familiar with maybe some not.
      </p>
        I dont know whenever I hear DREAMING it just gives me your vibe. Its ingrained in me already. Not the music but the feeling.
      </p>
      <p>I also just Discovered my hypocricy. I have never really done anything for you. Consider this my first sentiment to what I I'm to say.</p>
      <p>  CALL ME but dont call me Crazy. YET!! </p>
    </div>
  </div>
  
  <!-- Photo Enlargement Modal -->
  <div id="photoModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closePhotoModal()">&times;</span>
      <img id="enlargedPhoto" alt="Enlarged photo">
    </div>
  </div>
  
  <footer>
    <p>Girl you better fucking read every single letter from a-zğŸŒ¹</p>
    <p>Made with ğŸ’– by your biggest fan</p>
    
    <div class="footer-message-container">
      <span class="message-icon" onclick="showSavedMessage('msg4')">ğŸ’Œ</span>
    </div>
    
    <div id="msg4" class="user-message">
      I need you so much. I want you to get that bad. I'm no Drake nor PND but my name still Bryson still a rocker. Give me the location. I learnt a thing or two since we met.ğŸ˜
      I don't even know if I'm doing corny things here or if you'll even like it. Honestly if you like I don't mind looking like a geek.
      But I also feel this would have been sugar melon sweet if it was in better termsğŸ˜…
      <p> <big>I just pressed the big red buttonğŸ˜‚</big></p>
      <p> Damn that big read buttonğŸ˜–memoriesğŸ˜Œ Damn that big red button Started all dat. Couldnt resist I'm sorry. But who wouldnt, remember I asked what the fuk why does it taste like strawberrry pinapple punchğŸ˜”Damn that
      big red button.</p>
      <p> Was gonna put it in a diamond pendant or somthin' I aint rich though, a yellow diamond dagger will get if you choose this side.
      </p>
      <p>Its true I cant get over you. I'm past this bitches,I think. Discovered a Woman. </p>
      <p>The first 2 weeks afer whatever we broke happened I was joking around. Till later then I knew I aint going back. </p>
      <p>. </p>
      <p>If you knew how safe I played not to fumble into you ğŸ˜”. I have a problem with girls that treat me good. Especially after they touch my hair. </p>
        <p>Call it whatever you want. You can phrase it how you like. I did mean everyword I said.
      </p>
      <p>This is instinct I guess.
      </p>
      <p>All LoveğŸ’œ  no matter your desicion just know I aint giving up</p>
      <p>If you live me again I dont think I'm ever recovering again. </p>
      <p>Ndo maana nakuuliza, wanaeza kupigania?</p>
      <p>Ata ww chukulia venye utachukulia </p>
      <p>Its been off from that dayğŸ˜ mostly coz you confused me so hard. Although my crushout was faking I swear the feeling was real</p>
      <p>Yo boy not like dat, not like them other guys</p>
      <p>Wish I saw how lucky I was from the start</p>
      <p>At least I deserve an unblockğŸ˜– </p>
      <p>Plizz teach me. I already learnt a few from you </p>
      <p> <big>PS I GOTTA PART II and III one of it got me singingğŸ˜…</big> </p>
      <p> If you wanna hear my Angelic singing voice. PND dont got nothing on me. Kama singeku tech bro ningekua msanii nishakushoo. </p>
    </div>
  </footer>
  
  <script>
    // Inline critical JavaScript for faster loading
    const globalAudio = document.getElementById("globalAudio");
    const musicButton = document.getElementById("musicButton");
    const musicPopup = document.getElementById("musicPopup");
    let musicPopupVisible = false;
    let currentSong = "PARTYNEXTDOOR - Dreamin.mp3";
    let exclamationPopupVisible = false;
    let isNavigating = false;

    // Backend URL configuration
    const BACKEND_URL = 'https://caked-production.up.railway.app';

    // Song playlist array
    const playlist = [
      'PARTYNEXTDOOR - Dreamin.mp3',
      'PARTYNEXTDOOR - DEEPER.mp3', 
      'PARTYNEXTDOOR - TRAUMA .mp3',
      'KEEP IT-Juice WRLD.mp3',
      'Juice WRLD - GRACE.mp3',
      'PARTYNEXTDOOR - Some Of Your Love.mp3',
      'PARTYNEXTDOOR - You ve Been Missed.mp3',
      'PARTYNEXTDOOR & Rihanna - BELIEVE IT.mp3'
    ];
    let currentSongIndex = 0;

    // Performance optimization: Cache DOM elements
    const cachedElements = {};
    function getElement(id) {
      if (!cachedElements[id]) {
        cachedElements[id] = document.getElementById(id);
      }
      return cachedElements[id];
    }
  </script>
  <script src="https://caked-production.up.railway.app/js/hope.js"></script>
</body>
</html>